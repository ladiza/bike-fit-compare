import{t as ae,a as Y,n as Ye}from"../chunks/jBzCsW0M.js";import{i as Pe}from"../chunks/DG6VinGR.js";import{h as ke,ao as at,ap as st,aq as rt,ar as it,as as lt,at as nt,i as ot,J as vt,L as ct,a8 as dt,s as Oe,w as l,T as N,k as t,t as he,v as Ee,y as i,x as n,Z as U,au as Ze,av as Qe,aw as Xe,l as ut,f as Be,ax as ye,ay as mt}from"../chunks/DiFqeSKw.js";import{a as bt,l as pt,e as k,s as le,b as ht}from"../chunks/Dmwa_vCr.js";import{p as ge,b as Ie,i as pe}from"../chunks/DfzeOAJk.js";import{c as et,o as xt}from"../chunks/BZS73U8v.js";function ft(s,c,a){var r=s==null?"":""+s;return c&&(r=r?r+" "+c:c),r===""?null:r}function Te(s,c,a,r,d,p){var j=s.__className;if(ke||j!==a||j===void 0){var h=ft(a,r);(!ke||h!==s.getAttribute("class"))&&(h==null?s.removeAttribute("class"):s.className=h),s.__className=a}return p}const _t=Symbol("is custom element"),yt=Symbol("is html");function B(s){if(ke){var c=!1,a=()=>{if(!c){if(c=!0,s.hasAttribute("value")){var r=s.value;e(s,"value",null),s.value=r}if(s.hasAttribute("checked")){var d=s.checked;e(s,"checked",null),s.checked=d}}};s.__on_r=a,lt(a),bt()}}function e(s,c,a,r){var d=gt(s);ke&&(d[c]=s.getAttribute(c),c==="src"||c==="srcset"||c==="href"&&s.nodeName==="LINK")||d[c]!==(d[c]=a)&&(c==="loading"&&(s[at]=a),a==null?s.removeAttribute(c):typeof a!="string"&&kt(s).includes(c)?s[c]=a:s.setAttribute(c,a))}function gt(s){return s.__attributes??(s.__attributes={[_t]:s.nodeName.includes("-"),[yt]:s.namespaceURI===st})}var Ve=new Map;function kt(s){var c=Ve.get(s.nodeName);if(c)return c;Ve.set(s.nodeName,c=[]);for(var a,r=s,d=Element.prototype;d!==r;){a=it(r);for(var p in a)a[p].set&&c.push(p);r=rt(r)}return c}function I(s,c,a=c){var r=nt();pt(s,"input",d=>{var p=d?s.defaultValue:s.value;if(p=qe(s)?Me(p):p,a(p),r&&p!==(p=c())){var j=s.selectionStart,h=s.selectionEnd;s.value=p??"",h!==null&&(s.selectionStart=j,s.selectionEnd=Math.min(h,s.value.length))}}),(ke&&s.defaultValue!==s.value||ot(c)==null&&s.value)&&a(qe(s)?Me(s.value):s.value),vt(()=>{var d=c();qe(s)&&d===Me(s.value)||s.type==="date"&&!d&&!s.value||d!==s.value&&(s.value=d??"")})}function qe(s){var c=s.type;return c==="number"||c==="range"}function Me(s){return s===""?null:+s}function jt(s,c,a){var r=ct(s,c);r&&r.set&&(s[c]=a,dt(()=>{s[c]=null}))}const Ne={headTubeAngle:71.5,seatTubeAngle:73,seatTubeLength:460,chainStayLength:430,bottomBracketDrop:70,stack:590,reach:390,wheelDiameter:622,spacersLength:55,stemLength:100,stemAngle:10,handlebarReach:75,handlebarRaise:0},Ke={headTubeAngle:71.5,seatTubeAngle:73,seatTubeLength:460,chainStayLength:430,bottomBracketDrop:70,stack:590,reach:390,wheelDiameter:622,spacersLength:55,stemLength:100,stemAngle:10,handlebarReach:75,handlebarRaise:0};var St=ae('<div><h3 class="svelte-12ujmbx"> </h3> <div class="form-grid svelte-12ujmbx"><div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Head Tube Angle (Â°): <div class="input-group svelte-12ujmbx"><input type="range" min="55" max="80" step="0.5" class="slider svelte-12ujmbx"> <input type="number" min="55" max="80" step="0.5" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Stack (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="500" max="700" step="1" class="slider svelte-12ujmbx"> <input type="number" min="500" max="700" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Reach (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="350" max="450" step="1" class="slider svelte-12ujmbx"> <input type="number" min="350" max="450" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Spacers Length (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="0" max="70" step="1" class="slider svelte-12ujmbx"> <input type="number" min="0" max="70" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Stem Length (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="60" max="140" step="5" class="slider svelte-12ujmbx"> <input type="number" min="60" max="140" step="5" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Stem Angle (degrees): <div class="input-group svelte-12ujmbx"><input type="range" min="-30" max="30" step="1" class="slider svelte-12ujmbx"> <input type="number" min="-30" max="30" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Handlebar Reach (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="0" max="100" step="1" class="slider svelte-12ujmbx"> <input type="number" min="0" max="100" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Handlebar Raise (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="-10" max="70" step="5" class="slider svelte-12ujmbx"> <input type="number" min="-10" max="70" step="5" class="number-input svelte-12ujmbx"></div></label></div></div> <div class="export-container svelte-12ujmbx"><input type="file" accept=".json" style="display: none;" class="svelte-12ujmbx"> <div class="filename-input-container svelte-12ujmbx"><label class="svelte-12ujmbx">Filename:</label> <div class="input-with-extension svelte-12ujmbx"><input type="text" placeholder="bike-parameters" class="filename-input svelte-12ujmbx"> <span class="file-extension svelte-12ujmbx">.json</span></div></div> <div class="buttons-container svelte-12ujmbx"><button>Upload</button> <button>Export</button></div></div></div>');function Ge(s,c){Oe(c,!1);let a=ge(c,"parameters",28,()=>({...Ne})),r=ge(c,"bikeIndex",8,0),d=U("bike-parameters"),p=U();const j=et();function h(){j("change",a())}function f(v){return{headTubeAngle:v.headTubeAngle,stack:v.stack,reach:v.reach,spacersLength:v.spacersLength,stemLength:v.stemLength,stemAngle:v.stemAngle,handlebarReach:v.handlebarReach,handlebarRaise:v.handlebarRaise}}function fe(v){return["headTubeAngle","stack","reach","spacersLength","stemLength","stemAngle","handlebarReach","handlebarRaise"].every(xe=>xe in v&&typeof v[xe]=="number")}function _(){if(t(p)&&t(p).files&&t(p).files.length>0){const v=t(p).files[0];N(d,v.name.replace(/\.json$/,"")),v.name;const be=new FileReader;be.onload=xe=>{try{const ce=JSON.parse(xe.target.result);fe(ce)?(Object.keys(f(ce)).forEach(de=>{a(a()[de]=ce[de],!0)}),j("change",a())):alert("Invalid bike parameters format - missing required editable parameters")}catch(ce){console.error("Failed to parse uploaded file:",ce),alert("Failed to parse the uploaded file. Please ensure it is a valid JSON file.")}},be.readAsText(v)}}let S=0,T=0;function A(v,be){S=v,T=be}function ne(){j("requestTotalMeasurements");const v={...f(a()),totalReach:S,totalStack:T},be=JSON.stringify(v,null,2),xe=new Blob([be],{type:"application/json"}),ce=URL.createObjectURL(xe),de=document.createElement("a");de.href=ce;const tt=t(d).trim()||"bike-parameters";de.download=`${tt}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(ce)}Pe();var u=St(),b=l(u),J=l(b);n(b);var z=i(b,2),D=l(z),$=l(D),V=i(l($)),K=l(V);B(K);var se=i(K,2);B(se),n(V),n($),n(D);var Q=i(D,2),X=l(Q),Z=i(l(X)),P=l(Z);B(P);var O=i(P,2);B(O),n(Z),n(X),n(Q);var E=i(Q,2),C=l(E),G=i(l(C)),R=l(G);B(R);var q=i(R,2);B(q),n(G),n(C),n(E);var F=i(E,2),H=l(F),W=i(l(H)),M=l(W);B(M);var ee=i(M,2);B(ee),n(W),n(H),n(F);var ue=i(F,2),re=l(ue),oe=i(l(re)),o=l(oe);B(o);var m=i(o,2);B(m),n(oe),n(re),n(ue);var g=i(ue,2),x=l(g),w=i(l(x)),y=l(w);B(y);var L=i(y,2);B(L),n(w),n(x),n(g);var te=i(g,2),ie=l(te),ve=i(l(ie)),me=l(ve);B(me);var je=i(me,2);B(je),n(ve),n(ie),n(te);var Ue=i(te,2),Ae=l(Ue),ze=i(l(Ae)),_e=l(ze);B(_e);var Se=i(_e,2);B(Se),n(ze),n(Ae),n(Ue),n(z);var De=i(z,2),Re=l(De);Ie(Re,v=>N(p,v),()=>t(p));var we=i(Re,2),Ce=l(we),Fe=i(Ce,2),Le=l(Fe);B(Le),Ze(2),n(Fe),n(we);var He=i(we,2),$e=l(He),Je=i($e,2);return n(He),n(De),n(u),he(()=>{Te(u,1,`form-container bike-${r()??""}`,"svelte-12ujmbx"),le(J,`Bike ${r()+1} Parameters`),e($,"for",`headTubeAngle-${r()??""}`),e(K,"id",`headTubeAngleSlider-${r()??""}`),e(se,"id",`headTubeAngle-${r()??""}`),e(X,"for",`stack-${r()??""}`),e(P,"id",`stackSlider-${r()??""}`),e(O,"id",`stack-${r()??""}`),e(C,"for",`reach-${r()??""}`),e(R,"id",`reachSlider-${r()??""}`),e(q,"id",`reach-${r()??""}`),e(H,"for",`spacers-${r()??""}`),e(M,"id",`spacersSlider-${r()??""}`),e(ee,"id",`spacersLength-${r()??""}`),e(re,"for",`stemLength-${r()??""}`),e(o,"id",`stemLengthSlider-${r()??""}`),e(m,"id",`stemLength-${r()??""}`),e(x,"for",`stemAngle-${r()??""}`),e(y,"id",`stemAngleSlider-${r()??""}`),e(L,"id",`stemAngle-${r()??""}`),e(ie,"for",`handlebarReach-${r()??""}`),e(me,"id",`handlebarReachSlider-${r()??""}`),e(je,"id",`handlebarReach-${r()??""}`),e(Ae,"for",`handlebarRaise-${r()??""}`),e(_e,"id",`handlebarRaiseSlider-${r()??""}`),e(Se,"id",`handlebarRaise-${r()??""}`),e(Ce,"for",`filename-${r()??""}`),e(Le,"id",`filename-${r()??""}`),Te($e,1,`action-button bike-${r()??""}-btn`,"svelte-12ujmbx"),Te(Je,1,`action-button bike-${r()??""}-btn`,"svelte-12ujmbx")}),I(K,()=>a().headTubeAngle,v=>a(a().headTubeAngle=v,!0)),k("input",K,h),I(se,()=>a().headTubeAngle,v=>a(a().headTubeAngle=v,!0)),k("change",se,h),I(P,()=>a().stack,v=>a(a().stack=v,!0)),k("input",P,h),I(O,()=>a().stack,v=>a(a().stack=v,!0)),k("change",O,h),I(R,()=>a().reach,v=>a(a().reach=v,!0)),k("input",R,h),I(q,()=>a().reach,v=>a(a().reach=v,!0)),k("change",q,h),I(M,()=>a().spacersLength,v=>a(a().spacersLength=v,!0)),k("input",M,h),I(ee,()=>a().spacersLength,v=>a(a().spacersLength=v,!0)),k("change",ee,h),I(o,()=>a().stemLength,v=>a(a().stemLength=v,!0)),k("input",o,h),I(m,()=>a().stemLength,v=>a(a().stemLength=v,!0)),k("change",m,h),I(y,()=>a().stemAngle,v=>a(a().stemAngle=v,!0)),k("input",y,h),I(L,()=>a().stemAngle,v=>a(a().stemAngle=v,!0)),k("change",L,h),I(me,()=>a().handlebarReach,v=>a(a().handlebarReach=v,!0)),k("input",me,h),I(je,()=>a().handlebarReach,v=>a(a().handlebarReach=v,!0)),k("change",je,h),I(_e,()=>a().handlebarRaise,v=>a(a().handlebarRaise=v,!0)),k("input",_e,h),I(Se,()=>a().handlebarRaise,v=>a(a().handlebarRaise=v,!0)),k("change",Se,h),k("change",Re,_),I(Le,()=>t(d),v=>N(d,v)),k("click",$e,()=>t(p).click()),k("click",Je,ne),Y(s,u),jt(c,"updateTotalMeasurements",A),Ee({updateTotalMeasurements:A})}var Tt=Ye('<g class="measurements"><line stroke-width="1" stroke-dasharray="5,5"></line><text text-anchor="middle" font-size="12"> </text><line stroke-width="1" stroke-dasharray="5,5"></line><text text-anchor="start" font-size="12"> </text></g>'),At=Ye('<text font-size="10">BB</text><text font-size="10">HT</text><text font-size="10">HB</text>',1),Rt=ae('<div><svg preserveAspectRatio="xMidYMid meet" class="svelte-s20miq"><circle fill="none"></circle><circle fill="none"></circle><line></line><line></line><line></line><line></line><line></line><line></line><line></line><line></line><line></line><line></line><!><circle r="4" stroke="white" stroke-width="1"></circle><circle r="4" stroke="white" stroke-width="1"></circle><circle r="4" stroke="white" stroke-width="1"></circle><!></svg></div>');function We(s,c){Oe(c,!1);let a=ge(c,"parameters",8),r=ge(c,"bikeIndex",8,0),d=ge(c,"isOverlay",8,!1);const p=900,j=700,h=20,f=.5,_=["var(--bike-color, #3273dc)","var(--bike-color, #ff3860)"][r()]||"#333",S=d()?1.5:2,T=d()?.7:1;let A=U({x:0,y:0}),ne=U({x:0,y:0}),u=U({x:0,y:0}),b=U({x:0,y:0}),J=U({x:0,y:0}),z=U({x:0,y:0}),D=U({x:0,y:0}),$=U({x:0,y:0}),V=U({x:0,y:0}),K=a().wheelDiameter/2;const se=et();Qe(()=>(ut(a()),t(A),t(u),t(b),t(z),t(D),t(V),t($)),()=>{const x=a().headTubeAngle*Math.PI/180,w=a().seatTubeAngle*Math.PI/180,y=(90-a().headTubeAngle+a().stemAngle)*Math.PI/180;if(N(A,{x:K*f+h,y:j-K*f-h}),N(u,{x:t(A).x+a().chainStayLength*f,y:t(A).y+a().bottomBracketDrop*f}),N(J,{x:t(u).x-Math.cos(w)*a().seatTubeLength*f,y:t(u).y-Math.sin(w)*a().seatTubeLength*f}),N(b,{x:t(u).x+a().reach*f,y:t(u).y-a().stack*f}),N(ne,{x:t(A).x+((a().reach+a().chainStayLength)*f+(a().stack*f-a().bottomBracketDrop*f)/Math.tan(x)),y:t(A).y}),N(z,{x:t(b).x-Math.cos(x)*a().spacersLength*f,y:t(b).y-Math.sin(x)*a().spacersLength*f}),N(D,{x:t(z).x+Math.cos(y)*a().stemLength*f,y:t(z).y-Math.sin(y)*a().stemLength*f}),N(V,{x:t(D).x,y:t(D).y-a().handlebarRaise*f}),N($,{x:t(V).x+a().handlebarReach*f,y:t(V).y}),t(u)&&t($)){const L=Math.round(Math.abs(t($).x-t(u).x)/f),te=Math.round(Math.abs(t($).y-t(u).y)/f);se("totalMeasurementsUpdate",{reach:L,stack:te})}}),Xe(),Pe();var Q=Rt(),X=l(Q);e(X,"width",p),e(X,"height",j),e(X,"viewBox","0 0 900 700");var Z=l(X);e(Z,"r",K*f),e(Z,"stroke",_),e(Z,"stroke-width",S),e(Z,"stroke-opacity",T);var P=i(Z);e(P,"r",K*f),e(P,"stroke",_),e(P,"stroke-width",S),e(P,"stroke-opacity",T);var O=i(P);e(O,"stroke",_),e(O,"stroke-width",S),e(O,"stroke-opacity",T);var E=i(O);e(E,"stroke",_),e(E,"stroke-width",S),e(E,"stroke-opacity",T);var C=i(E);e(C,"stroke",_),e(C,"stroke-width",S),e(C,"stroke-opacity",T);var G=i(C);e(G,"stroke",_),e(G,"stroke-width",S),e(G,"stroke-opacity",T);var R=i(G);e(R,"stroke",_),e(R,"stroke-width",S),e(R,"stroke-opacity",T);var q=i(R);e(q,"stroke",_),e(q,"stroke-width",S),e(q,"stroke-opacity",T);var F=i(q);e(F,"stroke",_),e(F,"stroke-width",S),e(F,"stroke-opacity",T);var H=i(F);e(H,"stroke",_),e(H,"stroke-width",S),e(H,"stroke-opacity",T);var W=i(H);e(W,"stroke",_),e(W,"stroke-width",S),e(W,"stroke-opacity",T);var M=i(W);e(M,"stroke",_),e(M,"stroke-width",S),e(M,"stroke-opacity",T);var ee=i(M);{var ue=x=>{var w=Tt(),y=l(w);e(y,"stroke",_);var L=i(y);e(L,"fill",_);var te=l(L);n(L);var ie=i(L);e(ie,"stroke",_);var ve=i(ie);e(ve,"fill",_);var me=l(ve);n(ve),n(w),he(()=>{e(y,"x1",t(u).x),e(y,"y1",t(u).y),e(y,"x2",t(b).x),e(y,"y2",t(u).y),e(L,"x",(t(u).x+t(b).x)/2),e(L,"y",t(u).y-10),le(te,`Reach: ${a().reach??""}mm`),e(ie,"x1",t(b).x),e(ie,"y1",t(u).y),e(ie,"x2",t(b).x),e(ie,"y2",t(b).y),e(ve,"x",t(b).x+10),e(ve,"y",(t(u).y+t(b).y)/2),le(me,`Stack: ${a().stack??""}mm`)}),Y(x,w)};pe(ee,x=>{d()||x(ue)})}var re=i(ee);e(re,"fill",_);var oe=i(re);e(oe,"fill",_);var o=i(oe);e(o,"fill",_);var m=i(o);{var g=x=>{var w=At(),y=Be(w);e(y,"fill",_);var L=i(y);e(L,"fill",_);var te=i(L);e(te,"fill",_),he(()=>{e(y,"x",t(u).x+10),e(y,"y",t(u).y),e(L,"x",t(b).x+10),e(L,"y",t(b).y),e(te,"x",t($).x-20),e(te,"y",t($).y-10)}),Y(x,w)};pe(m,x=>{d()||x(g)})}n(X),n(Q),he(()=>{Te(Q,1,`visualization-container ${d()?"overlay":""}`,"svelte-s20miq"),e(Z,"cx",t(A).x),e(Z,"cy",t(A).y),e(P,"cx",t(ne).x),e(P,"cy",t(ne).y),e(O,"x1",t(A).x),e(O,"y1",t(A).y),e(O,"x2",t(u).x),e(O,"y2",t(u).y),e(E,"x1",t(u).x),e(E,"y1",t(u).y),e(E,"x2",t(J).x),e(E,"y2",t(J).y),e(C,"x1",t(J).x),e(C,"y1",t(J).y),e(C,"x2",t(A).x),e(C,"y2",t(A).y),e(G,"x1",t(u).x),e(G,"y1",t(u).y),e(G,"x2",t(b).x),e(G,"y2",t(b).y),e(R,"x1",t(J).x),e(R,"y1",t(J).y),e(R,"x2",t(b).x),e(R,"y2",t(b).y),e(q,"x1",t(b).x),e(q,"y1",t(b).y),e(q,"x2",t(ne).x),e(q,"y2",t(ne).y),e(F,"x1",t(b).x),e(F,"y1",t(b).y),e(F,"x2",t(z).x),e(F,"y2",t(z).y),e(H,"x1",t(z).x),e(H,"y1",t(z).y),e(H,"x2",t(D).x),e(H,"y2",t(D).y),e(W,"x1",t(D).x),e(W,"y1",t(D).y),e(W,"x2",t(V).x),e(W,"y2",t(V).y),e(M,"x1",t($).x),e(M,"y1",t($).y),e(M,"x2",t(V).x),e(M,"y2",t(V).y),e(re,"cx",t(u).x),e(re,"cy",t(u).y),e(oe,"cx",t(b).x),e(oe,"cy",t(b).y),e(o,"cx",t($).x),e(o,"cy",t($).y)}),Y(s,Q),Ee()}var wt=ae('<div class="bike-column bike-1 svelte-1pbnq2t"><!></div>'),Lt=ae('<div class="bike-column bike-1 disabled svelte-1pbnq2t"><p class="disabled-message svelte-1pbnq2t">Second bike is currently hidden</p></div>'),$t=ae('<div class="bike-overlay svelte-1pbnq2t"><!></div>'),qt=ae('<div class="info-cell bike-1 svelte-1pbnq2t">Bike 2</div> <div class="info-cell svelte-1pbnq2t">Difference</div>',1),Mt=ae('<div class="info-cell bike-1 svelte-1pbnq2t"> </div> <div class="info-cell svelte-1pbnq2t"> </div>',1),Bt=ae('<div class="info-cell bike-1 svelte-1pbnq2t"> </div> <div class="info-cell svelte-1pbnq2t"> </div>',1),It=ae('<div class="bike-editor svelte-1pbnq2t"><h1 class="svelte-1pbnq2t">Bike Geometry Editor</h1> <div class="controls svelte-1pbnq2t"><button class="toggle-btn svelte-1pbnq2t"> </button></div> <div class="editor-layout comparison-mode svelte-1pbnq2t"><div class="comparison-grid svelte-1pbnq2t"><div class="bike-column bike-0 svelte-1pbnq2t"><!></div> <!></div> <div class="visualization-section svelte-1pbnq2t"><div class="visualizations-container svelte-1pbnq2t"><!> <!></div> <div class="comparison-info svelte-1pbnq2t"><div class="comparison-table svelte-1pbnq2t"><div class="info-row header svelte-1pbnq2t"><div class="info-cell svelte-1pbnq2t"></div> <div class="info-cell bike-0 svelte-1pbnq2t">Bike 1</div> <!></div> <div class="info-row svelte-1pbnq2t"><div class="info-cell svelte-1pbnq2t">Total Reach</div> <div class="info-cell bike-0 svelte-1pbnq2t"> </div> <!></div> <div class="info-row svelte-1pbnq2t"><div class="info-cell svelte-1pbnq2t">Total Stack</div> <div class="info-cell bike-0 svelte-1pbnq2t"> </div> <!></div></div></div></div></div></div>');function Nt(s,c){Oe(c,!1);let a=U([{...Ne},{...Ke}]),r=U(!0),d=U([]),p=U([0,0]),j=U([0,0]);function h(o,m){ye(a,t(a)[m]=o.detail),N(a,[...t(a)])}function f(o){t(d)[o]&&t(d)[o].updateTotalMeasurements(t(p)[o],t(j)[o])}function fe(o,m){ye(p,t(p)[m]=o.detail.reach),ye(j,t(j)[m]=o.detail.stack)}function _(){N(r,!t(r))}xt(()=>{const o=localStorage.getItem("bikesParameters");if(o)try{N(a,JSON.parse(o))}catch(g){console.error("Failed to parse saved bike parameters:",g),N(a,[{...Ne},{...Ke}])}const m=localStorage.getItem("showSecondBike");if(m)try{N(r,JSON.parse(m))}catch(g){console.error("Failed to parse saved showSecondBike state:",g)}}),Qe(()=>(t(a),t(r)),()=>{typeof window<"u"&&(localStorage.setItem("bikesParameters",JSON.stringify(t(a))),localStorage.setItem("showSecondBike",JSON.stringify(t(r))))}),Xe(),Pe();var S=It(),T=i(l(S),2),A=l(T),ne=l(A,!0);n(A),n(T);var u=i(T,2),b=l(u),J=l(b),z=l(J);Ie(Ge(z,{get parameters(){return t(a)[0]},bikeIndex:0,$$events:{change:o=>h(o,0),requestTotalMeasurements:()=>f(0)},$$legacy:!0}),o=>ye(d,t(d)[0]=o),()=>{var o;return(o=t(d))==null?void 0:o[0]}),n(J);var D=i(J,2);{var $=o=>{var m=wt(),g=l(m);Ie(Ge(g,{get parameters(){return t(a)[1]},bikeIndex:1,$$events:{change:x=>h(x,1),requestTotalMeasurements:()=>f(1)},$$legacy:!0}),x=>ye(d,t(d)[1]=x),()=>{var x;return(x=t(d))==null?void 0:x[1]}),n(m),Y(o,m)},V=o=>{var m=Lt();Y(o,m)};pe(D,o=>{t(r)?o($):o(V,!1)})}n(b);var K=i(b,2),se=l(K),Q=l(se);We(Q,{get parameters(){return t(a)[0]},bikeIndex:0,$$events:{totalMeasurementsUpdate:o=>fe(o,0)}});var X=i(Q,2);{var Z=o=>{var m=$t(),g=l(m);We(g,{get parameters(){return t(a)[1]},bikeIndex:1,isOverlay:!0,$$events:{totalMeasurementsUpdate:x=>fe(x,1)}}),n(m),Y(o,m)};pe(X,o=>{t(r)&&o(Z)})}n(se);var P=i(se,2),O=l(P),E=l(O),C=i(l(E),4);{var G=o=>{var m=qt();Ze(2),Y(o,m)};pe(C,o=>{t(r)&&o(G)})}n(E);var R=i(E,2),q=i(l(R),2),F=l(q);n(q);var H=i(q,2);{var W=o=>{var m=Mt(),g=Be(m),x=l(g);n(g);var w=i(g,2),y=l(w);n(w),he(()=>{le(x,`${t(p)[1]??""} mm`),le(y,`${t(p)[1]-t(p)[0]} mm`)}),Y(o,m)};pe(H,o=>{t(r)&&o(W)})}n(R);var M=i(R,2),ee=i(l(M),2),ue=l(ee);n(ee);var re=i(ee,2);{var oe=o=>{var m=Bt(),g=Be(m),x=l(g);n(g);var w=i(g,2),y=l(w);n(w),he(()=>{le(x,`${t(j)[1]??""} mm`),le(y,`${t(j)[1]-t(j)[0]} mm`)}),Y(o,m)};pe(re,o=>{t(r)&&o(oe)})}n(M),n(O),n(P),n(K),n(u),n(S),he(()=>{le(ne,t(r)?"Hide Second Bike":"Show Second Bike"),le(F,`${t(p)[0]??""} mm`),le(ue,`${t(j)[0]??""} mm`)}),k("click",A,_),Y(s,S),Ee()}var Pt=ae('<meta name="description" content="A simple app to visualize bike geometry parameters">'),Ot=ae('<main class="svelte-ls3zfm"><!></main>');function Ht(s){var c=Ot();ht(r=>{var d=Pt();mt.title="Bike Parameters App",Y(r,d)});var a=l(c);Nt(a,{}),n(c),Y(s,c)}export{Ht as component};
