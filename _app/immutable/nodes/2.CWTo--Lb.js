import{t as ae,a as Y,n as Ye}from"../chunks/jBzCsW0M.js";import{i as Pe}from"../chunks/DG6VinGR.js";import{h as ke,ao as at,ap as st,aq as rt,ar as it,as as lt,at as nt,i as vt,J as ot,L as ct,a8 as dt,s as Oe,w as l,T as N,k as t,t as he,v as Ee,y as i,x as n,Z as U,au as Ze,av as Qe,aw as Xe,l as ut,f as Be,ax as ye,ay as mt}from"../chunks/DiFqeSKw.js";import{a as pt,l as bt,e as k,s as le,b as ht}from"../chunks/Dmwa_vCr.js";import{p as ge,b as Ie,i as be}from"../chunks/DfzeOAJk.js";import{c as et,o as xt}from"../chunks/BZS73U8v.js";function ft(s,c,a){var r=s==null?"":""+s;return c&&(r=r?r+" "+c:c),r===""?null:r}function Te(s,c,a,r,d,b){var j=s.__className;if(ke||j!==a||j===void 0){var h=ft(a,r);(!ke||h!==s.getAttribute("class"))&&(h==null?s.removeAttribute("class"):s.className=h),s.__className=a}return b}const _t=Symbol("is custom element"),yt=Symbol("is html");function B(s){if(ke){var c=!1,a=()=>{if(!c){if(c=!0,s.hasAttribute("value")){var r=s.value;e(s,"value",null),s.value=r}if(s.hasAttribute("checked")){var d=s.checked;e(s,"checked",null),s.checked=d}}};s.__on_r=a,lt(a),pt()}}function e(s,c,a,r){var d=gt(s);ke&&(d[c]=s.getAttribute(c),c==="src"||c==="srcset"||c==="href"&&s.nodeName==="LINK")||d[c]!==(d[c]=a)&&(c==="loading"&&(s[at]=a),a==null?s.removeAttribute(c):typeof a!="string"&&kt(s).includes(c)?s[c]=a:s.setAttribute(c,a))}function gt(s){return s.__attributes??(s.__attributes={[_t]:s.nodeName.includes("-"),[yt]:s.namespaceURI===st})}var Ve=new Map;function kt(s){var c=Ve.get(s.nodeName);if(c)return c;Ve.set(s.nodeName,c=[]);for(var a,r=s,d=Element.prototype;d!==r;){a=it(r);for(var b in a)a[b].set&&c.push(b);r=rt(r)}return c}function I(s,c,a=c){var r=nt();bt(s,"input",d=>{var b=d?s.defaultValue:s.value;if(b=ze(s)?Me(b):b,a(b),r&&b!==(b=c())){var j=s.selectionStart,h=s.selectionEnd;s.value=b??"",h!==null&&(s.selectionStart=j,s.selectionEnd=Math.min(h,s.value.length))}}),(ke&&s.defaultValue!==s.value||vt(c)==null&&s.value)&&a(ze(s)?Me(s.value):s.value),ot(()=>{var d=c();ze(s)&&d===Me(s.value)||s.type==="date"&&!d&&!s.value||d!==s.value&&(s.value=d??"")})}function ze(s){var c=s.type;return c==="number"||c==="range"}function Me(s){return s===""?null:+s}function jt(s,c,a){var r=ct(s,c);r&&r.set&&(s[c]=a,dt(()=>{s[c]=null}))}const Ne={headTubeAngle:71.5,seatTubeAngle:73,seatTubeLength:460,chainStayLength:430,bottomBracketDrop:70,stack:590,reach:390,wheelDiameter:622,spacersLength:55,stemLength:100,stemAngle:10,handlebarReach:75,handlebarRaise:0},Ke={headTubeAngle:71.5,seatTubeAngle:73,seatTubeLength:460,chainStayLength:430,bottomBracketDrop:70,stack:590,reach:390,wheelDiameter:622,spacersLength:55,stemLength:100,stemAngle:10,handlebarReach:75,handlebarRaise:0};var St=ae('<div><h3 class="svelte-12ujmbx"> </h3> <div class="form-grid svelte-12ujmbx"><div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Head Tube Angle (Â°): <div class="input-group svelte-12ujmbx"><input type="range" min="55" max="80" step="0.5" class="slider svelte-12ujmbx"> <input type="number" min="55" max="80" step="0.5" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Stack (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="500" max="700" step="1" class="slider svelte-12ujmbx"> <input type="number" min="500" max="700" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Reach (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="350" max="450" step="1" class="slider svelte-12ujmbx"> <input type="number" min="350" max="450" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Spacers Length (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="0" max="70" step="1" class="slider svelte-12ujmbx"> <input type="number" min="0" max="70" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Stem Length (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="60" max="140" step="5" class="slider svelte-12ujmbx"> <input type="number" min="60" max="140" step="5" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Stem Angle (degrees): <div class="input-group svelte-12ujmbx"><input type="range" min="-30" max="30" step="1" class="slider svelte-12ujmbx"> <input type="number" min="-30" max="30" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Handlebar Reach (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="0" max="100" step="1" class="slider svelte-12ujmbx"> <input type="number" min="0" max="100" step="1" class="number-input svelte-12ujmbx"></div></label></div> <div class="form-group svelte-12ujmbx"><label class="svelte-12ujmbx">Handlebar Raise (mm): <div class="input-group svelte-12ujmbx"><input type="range" min="-10" max="70" step="5" class="slider svelte-12ujmbx"> <input type="number" min="-10" max="70" step="5" class="number-input svelte-12ujmbx"></div></label></div></div> <div class="export-container svelte-12ujmbx"><input type="file" accept=".json" style="display: none;" class="svelte-12ujmbx"> <div class="filename-input-container svelte-12ujmbx"><label class="svelte-12ujmbx">Filename:</label> <div class="input-with-extension svelte-12ujmbx"><input type="text" placeholder="bike-parameters" class="filename-input svelte-12ujmbx"> <span class="file-extension svelte-12ujmbx">.json</span></div></div> <div class="buttons-container svelte-12ujmbx"><button>Upload</button> <button>Export</button></div></div></div>');function Ge(s,c){Oe(c,!1);let a=ge(c,"parameters",28,()=>({...Ne})),r=ge(c,"bikeIndex",8,0),d=U("bike-parameters"),b=U();const j=et();function h(){j("change",a())}function f(o){return{headTubeAngle:o.headTubeAngle,stack:o.stack,reach:o.reach,spacersLength:o.spacersLength,stemLength:o.stemLength,stemAngle:o.stemAngle,handlebarReach:o.handlebarReach,handlebarRaise:o.handlebarRaise}}function fe(o){return["headTubeAngle","stack","reach","spacersLength","stemLength","stemAngle","handlebarReach","handlebarRaise"].every(xe=>xe in o&&typeof o[xe]=="number")}function _(){if(t(b)&&t(b).files&&t(b).files.length>0){const o=t(b).files[0];N(d,o.name.replace(/\.json$/,"")),o.name;const pe=new FileReader;pe.onload=xe=>{try{const ce=JSON.parse(xe.target.result);fe(ce)?(Object.keys(f(ce)).forEach(de=>{a(a()[de]=ce[de],!0)}),j("change",a())):alert("Invalid bike parameters format - missing required editable parameters")}catch(ce){console.error("Failed to parse uploaded file:",ce),alert("Failed to parse the uploaded file. Please ensure it is a valid JSON file.")}},pe.readAsText(o)}}let S=0,T=0;function A(o,pe){S=o,T=pe}function ne(){j("requestTotalMeasurements");const o={...f(a()),totalReach:S,totalStack:T},pe=JSON.stringify(o,null,2),xe=new Blob([pe],{type:"application/json"}),ce=URL.createObjectURL(xe),de=document.createElement("a");de.href=ce;const tt=t(d).trim()||"bike-parameters";de.download=`${tt}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(ce)}Pe();var u=St(),p=l(u),J=l(p);n(p);var q=i(p,2),D=l(q),$=l(D),V=i(l($)),K=l(V);B(K);var se=i(K,2);B(se),n(V),n($),n(D);var Q=i(D,2),X=l(Q),Z=i(l(X)),P=l(Z);B(P);var O=i(P,2);B(O),n(Z),n(X),n(Q);var E=i(Q,2),H=l(E),G=i(l(H)),R=l(G);B(R);var z=i(R,2);B(z),n(G),n(H),n(E);var C=i(E,2),F=l(C),W=i(l(F)),M=l(W);B(M);var ee=i(M,2);B(ee),n(W),n(F),n(C);var ue=i(C,2),re=l(ue),ve=i(l(re)),v=l(ve);B(v);var m=i(v,2);B(m),n(ve),n(re),n(ue);var g=i(ue,2),x=l(g),w=i(l(x)),y=l(w);B(y);var L=i(y,2);B(L),n(w),n(x),n(g);var te=i(g,2),ie=l(te),oe=i(l(ie)),me=l(oe);B(me);var je=i(me,2);B(je),n(oe),n(ie),n(te);var Ue=i(te,2),Ae=l(Ue),qe=i(l(Ae)),_e=l(qe);B(_e);var Se=i(_e,2);B(Se),n(qe),n(Ae),n(Ue),n(q);var De=i(q,2),Re=l(De);Ie(Re,o=>N(b,o),()=>t(b));var we=i(Re,2),He=l(we),Ce=i(He,2),Le=l(Ce);B(Le),Ze(2),n(Ce),n(we);var Fe=i(we,2),$e=l(Fe),Je=i($e,2);return n(Fe),n(De),n(u),he(()=>{Te(u,1,`form-container bike-${r()??""}`,"svelte-12ujmbx"),le(J,`Bike ${r()+1} Parameters`),e($,"for",`headTubeAngle-${r()??""}`),e(K,"id",`headTubeAngleSlider-${r()??""}`),e(se,"id",`headTubeAngle-${r()??""}`),e(X,"for",`stack-${r()??""}`),e(P,"id",`stackSlider-${r()??""}`),e(O,"id",`stack-${r()??""}`),e(H,"for",`reach-${r()??""}`),e(R,"id",`reachSlider-${r()??""}`),e(z,"id",`reach-${r()??""}`),e(F,"for",`spacers-${r()??""}`),e(M,"id",`spacersSlider-${r()??""}`),e(ee,"id",`spacersLength-${r()??""}`),e(re,"for",`stemLength-${r()??""}`),e(v,"id",`stemLengthSlider-${r()??""}`),e(m,"id",`stemLength-${r()??""}`),e(x,"for",`stemAngle-${r()??""}`),e(y,"id",`stemAngleSlider-${r()??""}`),e(L,"id",`stemAngle-${r()??""}`),e(ie,"for",`handlebarReach-${r()??""}`),e(me,"id",`handlebarReachSlider-${r()??""}`),e(je,"id",`handlebarReach-${r()??""}`),e(Ae,"for",`handlebarRaise-${r()??""}`),e(_e,"id",`handlebarRaiseSlider-${r()??""}`),e(Se,"id",`handlebarRaise-${r()??""}`),e(He,"for",`filename-${r()??""}`),e(Le,"id",`filename-${r()??""}`),Te($e,1,`action-button bike-${r()??""}-btn`,"svelte-12ujmbx"),Te(Je,1,`action-button bike-${r()??""}-btn`,"svelte-12ujmbx")}),I(K,()=>a().headTubeAngle,o=>a(a().headTubeAngle=o,!0)),k("input",K,h),I(se,()=>a().headTubeAngle,o=>a(a().headTubeAngle=o,!0)),k("change",se,h),I(P,()=>a().stack,o=>a(a().stack=o,!0)),k("input",P,h),I(O,()=>a().stack,o=>a(a().stack=o,!0)),k("change",O,h),I(R,()=>a().reach,o=>a(a().reach=o,!0)),k("input",R,h),I(z,()=>a().reach,o=>a(a().reach=o,!0)),k("change",z,h),I(M,()=>a().spacersLength,o=>a(a().spacersLength=o,!0)),k("input",M,h),I(ee,()=>a().spacersLength,o=>a(a().spacersLength=o,!0)),k("change",ee,h),I(v,()=>a().stemLength,o=>a(a().stemLength=o,!0)),k("input",v,h),I(m,()=>a().stemLength,o=>a(a().stemLength=o,!0)),k("change",m,h),I(y,()=>a().stemAngle,o=>a(a().stemAngle=o,!0)),k("input",y,h),I(L,()=>a().stemAngle,o=>a(a().stemAngle=o,!0)),k("change",L,h),I(me,()=>a().handlebarReach,o=>a(a().handlebarReach=o,!0)),k("input",me,h),I(je,()=>a().handlebarReach,o=>a(a().handlebarReach=o,!0)),k("change",je,h),I(_e,()=>a().handlebarRaise,o=>a(a().handlebarRaise=o,!0)),k("input",_e,h),I(Se,()=>a().handlebarRaise,o=>a(a().handlebarRaise=o,!0)),k("change",Se,h),k("change",Re,_),I(Le,()=>t(d),o=>N(d,o)),k("click",$e,()=>t(b).click()),k("click",Je,ne),Y(s,u),jt(c,"updateTotalMeasurements",A),Ee({updateTotalMeasurements:A})}var Tt=Ye('<g class="measurements"><line stroke-width="1" stroke-dasharray="5,5"></line><text text-anchor="middle" font-size="12"> </text><line stroke-width="1" stroke-dasharray="5,5"></line><text text-anchor="start" font-size="12"> </text></g>'),At=Ye('<text font-size="10">BB</text><text font-size="10">HT</text><text font-size="10">HB</text>',1),Rt=ae('<div><svg preserveAspectRatio="xMidYMid meet" class="svelte-s20miq"><circle fill="none"></circle><circle fill="none"></circle><line></line><line></line><line></line><line></line><line></line><line></line><line></line><line></line><line></line><line></line><!><circle r="4" stroke="white" stroke-width="1"></circle><circle r="4" stroke="white" stroke-width="1"></circle><circle r="4" stroke="white" stroke-width="1"></circle><!></svg></div>');function We(s,c){Oe(c,!1);let a=ge(c,"parameters",8),r=ge(c,"bikeIndex",8,0),d=ge(c,"isOverlay",8,!1);const b=900,j=700,h=20,f=.5,_=["var(--bike-color, #3273dc)","var(--bike-color, #ff3860)"][r()]||"#333",S=d()?1.5:2,T=d()?.7:1;let A=U({x:0,y:0}),ne=U({x:0,y:0}),u=U({x:0,y:0}),p=U({x:0,y:0}),J=U({x:0,y:0}),q=U({x:0,y:0}),D=U({x:0,y:0}),$=U({x:0,y:0}),V=U({x:0,y:0}),K=a().wheelDiameter/2;const se=et();Qe(()=>(ut(a()),t(A),t(u),t(p),t(q),t(D),t(V),t($)),()=>{const x=a().headTubeAngle*Math.PI/180,w=a().seatTubeAngle*Math.PI/180,y=(90-a().headTubeAngle+a().stemAngle)*Math.PI/180;if(N(A,{x:K*f+h,y:j-K*f-h}),N(u,{x:t(A).x+a().chainStayLength*f,y:t(A).y+a().bottomBracketDrop*f}),N(J,{x:t(u).x-Math.cos(w)*a().seatTubeLength*f,y:t(u).y-Math.sin(w)*a().seatTubeLength*f}),N(p,{x:t(u).x+a().reach*f,y:t(u).y-a().stack*f}),N(ne,{x:t(A).x+((a().reach+a().chainStayLength)*f+(a().stack*f-a().bottomBracketDrop*f)/Math.tan(x)),y:t(A).y}),N(q,{x:t(p).x-Math.cos(x)*a().spacersLength*f,y:t(p).y-Math.sin(x)*a().spacersLength*f}),N(D,{x:t(q).x+Math.cos(y)*a().stemLength*f,y:t(q).y-Math.sin(y)*a().stemLength*f}),N(V,{x:t(D).x,y:t(D).y-a().handlebarRaise*f}),N($,{x:t(V).x+a().handlebarReach*f,y:t(V).y}),t(u)&&t($)){const L=Math.round(Math.abs(t($).x-t(u).x)/f),te=Math.round(Math.abs(t($).y-t(u).y)/f);se("totalMeasurementsUpdate",{reach:L,stack:te})}}),Xe(),Pe();var Q=Rt(),X=l(Q);e(X,"width",b),e(X,"height",j),e(X,"viewBox","0 0 900 700");var Z=l(X);e(Z,"r",K*f),e(Z,"stroke",_),e(Z,"stroke-width",S),e(Z,"stroke-opacity",T);var P=i(Z);e(P,"r",K*f),e(P,"stroke",_),e(P,"stroke-width",S),e(P,"stroke-opacity",T);var O=i(P);e(O,"stroke",_),e(O,"stroke-width",S),e(O,"stroke-opacity",T);var E=i(O);e(E,"stroke",_),e(E,"stroke-width",S),e(E,"stroke-opacity",T);var H=i(E);e(H,"stroke",_),e(H,"stroke-width",S),e(H,"stroke-opacity",T);var G=i(H);e(G,"stroke",_),e(G,"stroke-width",S),e(G,"stroke-opacity",T);var R=i(G);e(R,"stroke",_),e(R,"stroke-width",S),e(R,"stroke-opacity",T);var z=i(R);e(z,"stroke",_),e(z,"stroke-width",S),e(z,"stroke-opacity",T);var C=i(z);e(C,"stroke",_),e(C,"stroke-width",S),e(C,"stroke-opacity",T);var F=i(C);e(F,"stroke",_),e(F,"stroke-width",S),e(F,"stroke-opacity",T);var W=i(F);e(W,"stroke",_),e(W,"stroke-width",S),e(W,"stroke-opacity",T);var M=i(W);e(M,"stroke",_),e(M,"stroke-width",S),e(M,"stroke-opacity",T);var ee=i(M);{var ue=x=>{var w=Tt(),y=l(w);e(y,"stroke",_);var L=i(y);e(L,"fill",_);var te=l(L);n(L);var ie=i(L);e(ie,"stroke",_);var oe=i(ie);e(oe,"fill",_);var me=l(oe);n(oe),n(w),he(()=>{e(y,"x1",t(u).x),e(y,"y1",t(u).y),e(y,"x2",t(p).x),e(y,"y2",t(u).y),e(L,"x",(t(u).x+t(p).x)/2),e(L,"y",t(u).y-10),le(te,`Reach: ${a().reach??""}mm`),e(ie,"x1",t(p).x),e(ie,"y1",t(u).y),e(ie,"x2",t(p).x),e(ie,"y2",t(p).y),e(oe,"x",t(p).x+10),e(oe,"y",(t(u).y+t(p).y)/2),le(me,`Stack: ${a().stack??""}mm`)}),Y(x,w)};be(ee,x=>{d()||x(ue)})}var re=i(ee);e(re,"fill",_);var ve=i(re);e(ve,"fill",_);var v=i(ve);e(v,"fill",_);var m=i(v);{var g=x=>{var w=At(),y=Be(w);e(y,"fill",_);var L=i(y);e(L,"fill",_);var te=i(L);e(te,"fill",_),he(()=>{e(y,"x",t(u).x+10),e(y,"y",t(u).y),e(L,"x",t(p).x+10),e(L,"y",t(p).y),e(te,"x",t($).x-20),e(te,"y",t($).y-10)}),Y(x,w)};be(m,x=>{d()||x(g)})}n(X),n(Q),he(()=>{Te(Q,1,`visualization-container ${d()?"overlay":""}`,"svelte-s20miq"),e(Z,"cx",t(A).x),e(Z,"cy",t(A).y),e(P,"cx",t(ne).x),e(P,"cy",t(ne).y),e(O,"x1",t(A).x),e(O,"y1",t(A).y),e(O,"x2",t(u).x),e(O,"y2",t(u).y),e(E,"x1",t(u).x),e(E,"y1",t(u).y),e(E,"x2",t(J).x),e(E,"y2",t(J).y),e(H,"x1",t(J).x),e(H,"y1",t(J).y),e(H,"x2",t(A).x),e(H,"y2",t(A).y),e(G,"x1",t(u).x),e(G,"y1",t(u).y),e(G,"x2",t(p).x),e(G,"y2",t(p).y),e(R,"x1",t(J).x),e(R,"y1",t(J).y),e(R,"x2",t(p).x),e(R,"y2",t(p).y),e(z,"x1",t(p).x),e(z,"y1",t(p).y),e(z,"x2",t(ne).x),e(z,"y2",t(ne).y),e(C,"x1",t(p).x),e(C,"y1",t(p).y),e(C,"x2",t(q).x),e(C,"y2",t(q).y),e(F,"x1",t(q).x),e(F,"y1",t(q).y),e(F,"x2",t(D).x),e(F,"y2",t(D).y),e(W,"x1",t(D).x),e(W,"y1",t(D).y),e(W,"x2",t(V).x),e(W,"y2",t(V).y),e(M,"x1",t($).x),e(M,"y1",t($).y),e(M,"x2",t(V).x),e(M,"y2",t(V).y),e(re,"cx",t(u).x),e(re,"cy",t(u).y),e(ve,"cx",t(p).x),e(ve,"cy",t(p).y),e(v,"cx",t($).x),e(v,"cy",t($).y)}),Y(s,Q),Ee()}var wt=ae('<div class="bike-column bike-1 svelte-ojtzvp"><h2 class="svelte-ojtzvp">Bike 2</h2> <!></div>'),Lt=ae('<div class="bike-column bike-1 disabled svelte-ojtzvp"><h2 class="svelte-ojtzvp">Bike 2 (Hidden)</h2> <p class="disabled-message svelte-ojtzvp">Second bike is currently hidden</p></div>'),$t=ae('<div class="bike-overlay svelte-ojtzvp"><!></div>'),zt=ae('<div class="info-cell bike-1 svelte-ojtzvp">Bike 2</div> <div class="info-cell svelte-ojtzvp">Difference</div>',1),Mt=ae('<div class="info-cell bike-1 svelte-ojtzvp"> </div> <div class="info-cell svelte-ojtzvp"> </div>',1),Bt=ae('<div class="info-cell bike-1 svelte-ojtzvp"> </div> <div class="info-cell svelte-ojtzvp"> </div>',1),It=ae('<div class="bike-editor svelte-ojtzvp"><h1 class="svelte-ojtzvp">Bike Geometry Editor</h1> <div class="controls svelte-ojtzvp"><button class="toggle-btn svelte-ojtzvp"> </button></div> <div class="editor-layout comparison-mode svelte-ojtzvp"><div class="comparison-grid svelte-ojtzvp"><div class="bike-column bike-0 svelte-ojtzvp"><h2 class="svelte-ojtzvp">Bike 1</h2> <!></div> <!></div> <div class="visualization-section svelte-ojtzvp"><div class="visualizations-container svelte-ojtzvp"><!> <!></div> <div class="comparison-info svelte-ojtzvp"><div class="comparison-table svelte-ojtzvp"><div class="info-row header svelte-ojtzvp"><div class="info-cell svelte-ojtzvp"></div> <div class="info-cell bike-0 svelte-ojtzvp">Bike 1</div> <!></div> <div class="info-row svelte-ojtzvp"><div class="info-cell svelte-ojtzvp">Total Reach</div> <div class="info-cell bike-0 svelte-ojtzvp"> </div> <!></div> <div class="info-row svelte-ojtzvp"><div class="info-cell svelte-ojtzvp">Total Stack</div> <div class="info-cell bike-0 svelte-ojtzvp"> </div> <!></div></div></div></div></div></div>');function Nt(s,c){Oe(c,!1);let a=U([{...Ne},{...Ke}]),r=U(!0),d=U([]),b=U([0,0]),j=U([0,0]);function h(v,m){ye(a,t(a)[m]=v.detail),N(a,[...t(a)])}function f(v){t(d)[v]&&t(d)[v].updateTotalMeasurements(t(b)[v],t(j)[v])}function fe(v,m){ye(b,t(b)[m]=v.detail.reach),ye(j,t(j)[m]=v.detail.stack)}function _(){N(r,!t(r))}xt(()=>{const v=localStorage.getItem("bikesParameters");if(v)try{N(a,JSON.parse(v))}catch(g){console.error("Failed to parse saved bike parameters:",g),N(a,[{...Ne},{...Ke}])}const m=localStorage.getItem("showSecondBike");if(m)try{N(r,JSON.parse(m))}catch(g){console.error("Failed to parse saved showSecondBike state:",g)}}),Qe(()=>(t(a),t(r)),()=>{typeof window<"u"&&(localStorage.setItem("bikesParameters",JSON.stringify(t(a))),localStorage.setItem("showSecondBike",JSON.stringify(t(r))))}),Xe(),Pe();var S=It(),T=i(l(S),2),A=l(T),ne=l(A,!0);n(A),n(T);var u=i(T,2),p=l(u),J=l(p),q=i(l(J),2);Ie(Ge(q,{get parameters(){return t(a)[0]},bikeIndex:0,$$events:{change:v=>h(v,0),requestTotalMeasurements:()=>f(0)},$$legacy:!0}),v=>ye(d,t(d)[0]=v),()=>{var v;return(v=t(d))==null?void 0:v[0]}),n(J);var D=i(J,2);{var $=v=>{var m=wt(),g=i(l(m),2);Ie(Ge(g,{get parameters(){return t(a)[1]},bikeIndex:1,$$events:{change:x=>h(x,1),requestTotalMeasurements:()=>f(1)},$$legacy:!0}),x=>ye(d,t(d)[1]=x),()=>{var x;return(x=t(d))==null?void 0:x[1]}),n(m),Y(v,m)},V=v=>{var m=Lt();Y(v,m)};be(D,v=>{t(r)?v($):v(V,!1)})}n(p);var K=i(p,2),se=l(K),Q=l(se);We(Q,{get parameters(){return t(a)[0]},bikeIndex:0,$$events:{totalMeasurementsUpdate:v=>fe(v,0)}});var X=i(Q,2);{var Z=v=>{var m=$t(),g=l(m);We(g,{get parameters(){return t(a)[1]},bikeIndex:1,isOverlay:!0,$$events:{totalMeasurementsUpdate:x=>fe(x,1)}}),n(m),Y(v,m)};be(X,v=>{t(r)&&v(Z)})}n(se);var P=i(se,2),O=l(P),E=l(O),H=i(l(E),4);{var G=v=>{var m=zt();Ze(2),Y(v,m)};be(H,v=>{t(r)&&v(G)})}n(E);var R=i(E,2),z=i(l(R),2),C=l(z);n(z);var F=i(z,2);{var W=v=>{var m=Mt(),g=Be(m),x=l(g);n(g);var w=i(g,2),y=l(w);n(w),he(()=>{le(x,`${t(b)[1]??""} mm`),le(y,`${t(b)[1]-t(b)[0]} mm`)}),Y(v,m)};be(F,v=>{t(r)&&v(W)})}n(R);var M=i(R,2),ee=i(l(M),2),ue=l(ee);n(ee);var re=i(ee,2);{var ve=v=>{var m=Bt(),g=Be(m),x=l(g);n(g);var w=i(g,2),y=l(w);n(w),he(()=>{le(x,`${t(j)[1]??""} mm`),le(y,`${t(j)[1]-t(j)[0]} mm`)}),Y(v,m)};be(re,v=>{t(r)&&v(ve)})}n(M),n(O),n(P),n(K),n(u),n(S),he(()=>{le(ne,t(r)?"Hide Second Bike":"Show Second Bike"),le(C,`${t(b)[0]??""} mm`),le(ue,`${t(j)[0]??""} mm`)}),k("click",A,_),Y(s,S),Ee()}var Pt=ae('<meta name="description" content="A simple app to visualize bike geometry parameters">'),Ot=ae('<main class="svelte-ls3zfm"><!></main>');function Ft(s){var c=Ot();ht(r=>{var d=Pt();mt.title="Bike Parameters App",Y(r,d)});var a=l(c);Nt(a,{}),n(c),Y(s,c)}export{Ft as component};
